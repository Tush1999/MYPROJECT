{"ast":null,"code":"var _jsxFileName = \"/home/tushar/Desktop/Vinsol/My Project/b/src/Components/Employees/Employees.js\";\nimport React, { Component } from \"react\";\nimport ShowData from \"./ShowData\";\nimport AirTable from './AirTable';\nimport SideBar from \"../../SideBar\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport Airtable from \"airtable\";\nimport ScrollTable from \"./ScrollTable\";\nimport \"./style.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst base = new Airtable({\n  apiKey: \"keyHHrGcNLiewGh05\"\n}).base(\"appnnQqeeXZmvVJvB\");\nexport default class Employees extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSearch = e => {\n      this.setState({\n        searchField: e.target.value\n      });\n    };\n\n    this.data = x => {\n      if (x) this.setState({\n        employees: [...this.state.employees, ...x]\n      });else this.setState({\n        loading: false\n      });\n    };\n\n    this.func = x => {\n      this.setState({\n        f: x\n      });\n    };\n\n    this.handleClick = () => {\n      console.log(this.state.f());\n    };\n\n    this.state = {\n      searchField: \"\",\n      employees: [],\n      size: 10,\n      loading: true,\n      f: \"\"\n    };\n  } // componentDidMount() {\n  //   this.fetchData();\n  // }\n\n\n  render() {\n    // console.log(this.state.employees,\"emp\")\n    const result = [];\n    const map = new Map();\n\n    for (const item of this.state.employees) {\n      if (!map.has(item.pName)) {\n        map.set(item.pName, true);\n        result.push({\n          pName: item.pName,\n          pId: item.pId\n        });\n      }\n    }\n\n    var filteredData = result.filter(val => val.pName.toLowerCase().includes(this.state.searchField.toLowerCase())).sort((a, b) => a.pName.localeCompare(b.pName));\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(AirTable, {\n        type: \"employees\",\n        pageSize: 20,\n        view: \"Grid-view\",\n        data: this.data,\n        func: this.func\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"scrollableDiv\",\n        children: /*#__PURE__*/_jsxDEV(InfiniteScroll, {\n          dataLength: this.state.employees.length,\n          next: this.handleClick,\n          hasMore: this.state.loading,\n          loader: this.state.loading ? /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Loading...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 42\n          }, this) : null,\n          children: /*#__PURE__*/_jsxDEV(ShowData, {\n            data: filteredData\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 14\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true);\n  }\n\n}","map":{"version":3,"sources":["/home/tushar/Desktop/Vinsol/My Project/b/src/Components/Employees/Employees.js"],"names":["React","Component","ShowData","AirTable","SideBar","InfiniteScroll","Airtable","ScrollTable","base","apiKey","Employees","constructor","props","handleSearch","e","setState","searchField","target","value","data","x","employees","state","loading","func","f","handleClick","console","log","size","render","result","map","Map","item","has","pName","set","push","pId","filteredData","filter","val","toLowerCase","includes","sort","a","b","localeCompare","length"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport ShowData from \"./ShowData\";\nimport AirTable from './AirTable'\nimport SideBar from \"../../SideBar\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport Airtable from \"airtable\";\nimport ScrollTable from \"./ScrollTable\";\nimport \"./style.css\";\n\nconst base = new Airtable({ apiKey: \"keyHHrGcNLiewGh05\" }).base(\n  \"appnnQqeeXZmvVJvB\"\n);\n\nexport default class Employees extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { searchField: \"\", employees: [], size: 10,loading:true,f:\"\"};\n  }\n  // componentDidMount() {\n  //   this.fetchData();\n  // }\n  \n  handleSearch = (e) => {\n    this.setState({ searchField: e.target.value });\n  };\n  // handleNext = () => {\n  //   this.setState({ size: this.state.size + 15 });\n  //   //this.fetchData();\n  // };\n  data=(x)=>{\n    if(x)\n    this.setState({employees:[...this.state.employees,...x]})\n    else\n    this.setState({loading:false})\n  }\n  func=(x)=>{\n    this.setState({f:x})\n  }\n  handleClick=()=>{\n    console.log(this.state.f())\n  }\n  render() {\n   // console.log(this.state.employees,\"emp\")\n    const result = [];\n    const map = new Map();\n    for (const item of this.state.employees) {\n      if (!map.has(item.pName)) {\n        map.set(item.pName, true);\n        result.push({\n          pName: item.pName,\n          pId: item.pId,\n        });\n      }\n    }\n    var filteredData = result\n      .filter((val) =>\n      val.pName.toLowerCase().includes(this.state.searchField.toLowerCase())\n      )\n      .sort((a, b) => a.pName.localeCompare(b.pName));\n    return (\n      <>\n      <AirTable type=\"employees\" pageSize={20} view={\"Grid-view\"} data={this.data} func={this.func}/>\n      \n          <div id=\"scrollableDiv\">\n             <InfiniteScroll\n              dataLength={this.state.employees.length}\n              next={this.handleClick}\n              hasMore={this.state.loading}\n              loader={this.state.loading?<h4>Loading...</h4>:null}\n            >\n              <ShowData data={filteredData} />\n            </InfiniteScroll> \n         </div>\n         </>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}